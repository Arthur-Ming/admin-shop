(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["dashboard-index-js"],{

/***/ "./src/components/column-chart/index.js":
/*!**********************************************!*\
  !*** ./src/components/column-chart/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ColumnChart; });\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst BACKEND_URL = `${\"https://course-js.javascript.ru/\"}`;\nclass ColumnChart {\n  constructor({\n    url = '',\n    range = {\n      from: new Date(new Date().setMonth(new Date().getMonth() - 1)),\n      to: new Date()\n    },\n    label = '',\n    data = [],\n    value = 0,\n    link = '',\n    formatHeading\n  } = {}) {\n    _defineProperty(this, \"chartHeight\", 50);\n\n    this.url = url;\n    this.range = range;\n    this.label = label;\n    this._data = data;\n    this.value = value;\n    this.link = link;\n    this.formatHeading = formatHeading;\n    this.render();\n    this.update(this.range);\n    this.initEventListeners();\n  }\n\n  set data(newData) {\n    const newValues = Object.values(newData);\n\n    if (newValues.length) {\n      this.element.classList.remove('column-chart_loading');\n    }\n\n    this.value = newValues.reduce((sum, value) => sum + value, 0);\n    this.subElements.header.innerHTML = this.getHeading(this.value);\n    this.subElements.body.innerHTML = this.getChartColumns(newValues);\n    return this._data = newData;\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  formatDate(date) {\n    return date.toLocaleString('ru', {\n      year: 'numeric',\n      month: 'short',\n      day: '2-digit'\n    });\n  }\n\n  getChartColumns(data) {\n    const {\n      from\n    } = this.range;\n    const maxColHeight = Math.max(...data);\n    return data.map((colHeight, index) => {\n      const value = Math.floor(this.chartHeight / maxColHeight * colHeight);\n      const date = this.formatDate(new Date(from.getFullYear(), from.getMonth(), from.getDate() + index));\n      return `<div style=\"--value: ${value}\"\n        data-tooltip=\"<div><small>${date}</small></div><strong>${value}</strong>\"></div>`;\n    }).join('');\n  }\n\n  get template() {\n    return `\n       <div class=\"column-chart column-chart_loading\" style=\"--chart-height: 50\">\n      <div class=\"column-chart__title\">\n        ${this.label}\n        ${this.link ? '<a href=\"/sales\" class=\"column-chart__link\">Подробнее</a>' : ''}\n      </div>\n      <div class=\"column-chart__container\">\n        <div data-element=\"header\" class=\"column-chart__header\">\n           ${this.getHeading(this.value)}\n        </div>\n        <div data-element=\"body\" class=\"column-chart__chart\">\n           ${this.getChartColumns(this.data)}\n        </div >\n      </div >\n    </div >\n   `;\n  }\n\n  getHeading(value) {\n    return this.formatHeading ? this.formatHeading(value) : value;\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n    return [...elements].reduce((result, item) => {\n      result[item.dataset.element] = item;\n      return result;\n    }, {});\n  }\n\n  update({\n    from,\n    to\n  }) {\n    this.range = {\n      from,\n      to\n    };\n    return Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${BACKEND_URL}${this.url}?from=${from}&to=${to}`).then(newData => this.data = newData);\n  }\n\n  initEventListeners() {\n    this.subElements.body.addEventListener('pointerover', event => {\n      this.subElements.body.classList.add('has-hovered');\n      event.target.classList.add('is-hovered');\n      this.subElements.body.classList.remove('is-hovered');\n      event.target.addEventListener('pointerout', () => {\n        event.target.classList.remove('is-hovered');\n      });\n    });\n    this.subElements.body.addEventListener('pointerout', () => {\n      this.subElements.body.classList.remove('has-hovered');\n    });\n  }\n\n  remove() {\n    if (this.element) {\n      this.element.remove();\n    }\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n    this.subElements = {};\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanM/OTAzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2hKc29uIGZyb20gJy4uLy4uL3V0aWxzL2ZldGNoLWpzb24uanMnO1xyXG5cclxuY29uc3QgQkFDS0VORF9VUkwgPSBgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH1gXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5DaGFydCB7XHJcbiAgY2hhcnRIZWlnaHQgPSA1MDtcclxuXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgdXJsID0gJycsXHJcbiAgICByYW5nZSA9IHtcclxuICAgICAgZnJvbTogbmV3IERhdGUobmV3IERhdGUoKS5zZXRNb250aChuZXcgRGF0ZSgpLmdldE1vbnRoKCkgLSAxKSksXHJcbiAgICAgIHRvOiBuZXcgRGF0ZSgpXHJcbiAgICB9LFxyXG4gICAgbGFiZWwgPSAnJyxcclxuICAgIGRhdGEgPSBbXSxcclxuICAgIHZhbHVlID0gMCxcclxuICAgIGxpbmsgPSAnJyxcclxuICAgIGZvcm1hdEhlYWRpbmdcclxuICB9ID0ge30pIHtcclxuXHJcbiAgICB0aGlzLnVybCA9IHVybDtcclxuICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcclxuICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgdGhpcy5saW5rID0gbGluaztcclxuICAgIHRoaXMuZm9ybWF0SGVhZGluZyA9IGZvcm1hdEhlYWRpbmc7XHJcblxyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIHRoaXMudXBkYXRlKHRoaXMucmFuZ2UpO1xyXG4gICAgdGhpcy5pbml0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gIH1cclxuXHJcbiAgc2V0IGRhdGEobmV3RGF0YSkge1xyXG5cclxuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IE9iamVjdC52YWx1ZXMobmV3RGF0YSk7XHJcblxyXG4gICAgaWYgKG5ld1ZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbHVtbi1jaGFydF9sb2FkaW5nJylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWVzLnJlZHVjZSgoc3VtLCB2YWx1ZSkgPT4gc3VtICsgdmFsdWUsIDApO1xyXG5cclxuICAgIHRoaXMuc3ViRWxlbWVudHMuaGVhZGVyLmlubmVySFRNTCA9IHRoaXMuZ2V0SGVhZGluZyh0aGlzLnZhbHVlKVxyXG4gICAgdGhpcy5zdWJFbGVtZW50cy5ib2R5LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2hhcnRDb2x1bW5zKG5ld1ZhbHVlcyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEgPSBuZXdEYXRhO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGRhdGEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcclxuICB9XHJcblxyXG4gIGZvcm1hdERhdGUoZGF0ZSkge1xyXG5cclxuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdydScsIHtcclxuICAgICAgeWVhcjogJ251bWVyaWMnLFxyXG4gICAgICBtb250aDogJ3Nob3J0JyxcclxuICAgICAgZGF5OiAnMi1kaWdpdCdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2hhcnRDb2x1bW5zKGRhdGEpIHtcclxuXHJcbiAgICBjb25zdCB7IGZyb20gfSA9IHRoaXMucmFuZ2VcclxuICAgIGNvbnN0IG1heENvbEhlaWdodCA9IE1hdGgubWF4KC4uLmRhdGEpO1xyXG5cclxuICAgIHJldHVybiBkYXRhLm1hcCgoY29sSGVpZ2h0LCBpbmRleCkgPT4ge1xyXG5cclxuICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLmZsb29yKHRoaXMuY2hhcnRIZWlnaHQgLyBtYXhDb2xIZWlnaHQgKiBjb2xIZWlnaHQpO1xyXG4gICAgICBjb25zdCBkYXRlID0gdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKGZyb20uZ2V0RnVsbFllYXIoKSwgZnJvbS5nZXRNb250aCgpLCBmcm9tLmdldERhdGUoKSArIGluZGV4KSlcclxuXHJcbiAgICAgIHJldHVybiBgPGRpdiBzdHlsZT1cIi0tdmFsdWU6ICR7dmFsdWV9XCJcclxuICAgICAgICBkYXRhLXRvb2x0aXA9XCI8ZGl2PjxzbWFsbD4ke2RhdGV9PC9zbWFsbD48L2Rpdj48c3Ryb25nPiR7dmFsdWV9PC9zdHJvbmc+XCI+PC9kaXY+YFxyXG5cclxuICAgIH0pLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4tY2hhcnQgY29sdW1uLWNoYXJ0X2xvYWRpbmdcIiBzdHlsZT1cIi0tY2hhcnQtaGVpZ2h0OiA1MFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uLWNoYXJ0X190aXRsZVwiPlxyXG4gICAgICAgICR7dGhpcy5sYWJlbH1cclxuICAgICAgICAke3RoaXMubGluayA/ICc8YSBocmVmPVwiL3NhbGVzXCIgY2xhc3M9XCJjb2x1bW4tY2hhcnRfX2xpbmtcIj7Qn9C+0LTRgNC+0LHQvdC10LU8L2E+JyA6ICcnfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbi1jaGFydF9fY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBkYXRhLWVsZW1lbnQ9XCJoZWFkZXJcIiBjbGFzcz1cImNvbHVtbi1jaGFydF9faGVhZGVyXCI+XHJcbiAgICAgICAgICAgJHt0aGlzLmdldEhlYWRpbmcodGhpcy52YWx1ZSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBkYXRhLWVsZW1lbnQ9XCJib2R5XCIgY2xhc3M9XCJjb2x1bW4tY2hhcnRfX2NoYXJ0XCI+XHJcbiAgICAgICAgICAgJHt0aGlzLmdldENoYXJ0Q29sdW1ucyh0aGlzLmRhdGEpfVxyXG4gICAgICAgIDwvZGl2ID5cclxuICAgICAgPC9kaXYgPlxyXG4gICAgPC9kaXYgPlxyXG4gICBgXHJcbiAgfVxyXG5cclxuICBnZXRIZWFkaW5nKHZhbHVlKSB7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0SGVhZGluZyA/IHRoaXMuZm9ybWF0SGVhZGluZyh2YWx1ZSkgOiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnRlbXBsYXRlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcblxyXG4gICAgdGhpcy5zdWJFbGVtZW50cyA9IHRoaXMuZ2V0U3ViRWxlbWVudHModGhpcy5lbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGdldFN1YkVsZW1lbnRzKGVsZW1lbnQpIHtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWxlbWVudF0nKTtcclxuXHJcbiAgICByZXR1cm4gWy4uLmVsZW1lbnRzXS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xyXG4gICAgICByZXN1bHRbaXRlbS5kYXRhc2V0LmVsZW1lbnRdID0gaXRlbTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0sIHt9KVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKHsgZnJvbSwgdG8gfSkge1xyXG5cclxuICAgIHRoaXMucmFuZ2UgPSB7XHJcbiAgICAgIGZyb20sXHJcbiAgICAgIHRvXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZldGNoSnNvbihgJHtCQUNLRU5EX1VSTH0ke3RoaXMudXJsfT9mcm9tPSR7ZnJvbX0mdG89JHt0b31gKVxyXG4gICAgICAudGhlbigobmV3RGF0YSkgPT4gdGhpcy5kYXRhID0gbmV3RGF0YSlcclxuICB9XHJcblxyXG4gIGluaXRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzLmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgIHRoaXMuc3ViRWxlbWVudHMuYm9keS5jbGFzc0xpc3QuYWRkKCdoYXMtaG92ZXJlZCcpO1xyXG4gICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaXMtaG92ZXJlZCcpO1xyXG4gICAgICB0aGlzLnN1YkVsZW1lbnRzLmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaG92ZXJlZCcpO1xyXG5cclxuICAgICAgZXZlbnQudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhvdmVyZWQnKTtcclxuICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuc3ViRWxlbWVudHMuYm9keS5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG5cclxuICAgICAgdGhpcy5zdWJFbGVtZW50cy5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1ob3ZlcmVkJyk7XHJcblxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlbW92ZSgpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG4gICAgdGhpcy5zdWJFbGVtZW50cyA9IHt9O1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOzs7O0FBSUE7OztBQUdBOzs7O0FBWEE7QUFnQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsS0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/column-chart/index.js\n");

/***/ }),

/***/ "./src/components/range-picker/index.js":
/*!**********************************************!*\
  !*** ./src/components/range-picker/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RangePicker; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass RangePicker {\n  constructor({\n    from,\n    to\n  } = {}) {\n    _defineProperty(this, \"isFromSelected\", false);\n\n    _defineProperty(this, \"onSelectorClick\", event => {\n      const leftArrow = event.target.closest('.rangepicker__selector-control-left');\n      const rightArrow = event.target.closest('.rangepicker__selector-control-right');\n      const calendarDay = event.target.closest('.rangepicker__cell');\n\n      if (leftArrow || rightArrow) {\n        if (leftArrow) {\n          this.date1 = new Date(this.date1.getFullYear(), this.date1.getMonth() - 1, 1);\n          this.date2 = new Date(this.date2.getFullYear(), this.date2.getMonth() - 1, 1);\n        }\n\n        if (rightArrow) {\n          this.date1 = new Date(this.date1.getFullYear(), this.date1.getMonth() + 1, 1);\n          this.date2 = new Date(this.date2.getFullYear(), this.date2.getMonth() + 1, 1);\n        }\n\n        this.subElements.calendar1.innerHTML = this.creatCalendar(this.date1);\n        this.subElements.calendar2.innerHTML = this.creatCalendar(this.date2);\n        this.subElements.month1.innerHTML = this.getMonth(this.date1);\n        this.subElements.month2.innerHTML = this.getMonth(this.date2);\n        this.subElements.month1.setAttribute('datetime', this.getMonth(this.date1, 'eng'));\n        this.subElements.month2.setAttribute('datetime', this.getMonth(this.date2, 'eng'));\n      }\n\n      if (calendarDay) {\n        if (this.isFromSelected) {\n          if (Number(calendarDay.dataset.value) < Number(this.from)) {\n            this.to = this.from;\n            this.from = new Date(Number(calendarDay.dataset.value));\n          } else {\n            this.to = new Date(Number(calendarDay.dataset.value));\n          }\n\n          const calendars = this.element.querySelectorAll('.rangepicker__cell');\n\n          for (const day of calendars) {\n            day.classList.remove('rangepicker__selected-to');\n          }\n\n          this.subElements.from.innerHTML = this.getFormatedDate(this.from);\n          this.subElements.to.innerHTML = this.getFormatedDate(this.to);\n          this.element.classList.remove('rangepicker_open');\n          this.dispatchEvent();\n          this.isFromSelected = false;\n        } else {\n          const calendars = this.element.querySelectorAll('.rangepicker__cell');\n\n          for (const day of calendars) {\n            day.classList.remove('rangepicker__selected-from');\n            day.classList.remove('rangepicker__selected-to');\n            day.classList.remove('rangepicker__selected-between');\n          }\n\n          this.from = new Date(Number(calendarDay.dataset.value));\n          this.to = new Date(Number(calendarDay.dataset.value));\n          this.isFromSelected = true;\n        }\n      }\n\n      this.addRangeDays();\n    });\n\n    _defineProperty(this, \"onOpenCalendarByClick\", event => {\n      const target = event.target.closest('.rangepicker');\n      this.renderCalendarView();\n      this.addRangeDays();\n      target.classList.toggle('rangepicker_open');\n    });\n\n    _defineProperty(this, \"onWindowClick\", event => {\n      const target = event.target.closest('.rangepicker');\n\n      if (!target) {\n        if (this.element.classList.contains('rangepicker_open')) {\n          this.element.classList.remove('rangepicker_open');\n        }\n      }\n    });\n\n    this.from = from;\n    this.to = to;\n    this.date1 = from ? from : new Date();\n    this.date2 = new Date(this.date1.getFullYear(), this.date1.getMonth() + 1, 1);\n    this.render();\n    this.initEventListeners();\n  }\n\n  getFormatedDate(date) {\n    if (!date) return 'дд-мм-гггг';\n    return date.toLocaleString('ru', {\n      dateStyle: 'short'\n    });\n  }\n\n  getMonth(date) {\n    return date.toLocaleString('ru', {\n      month: 'long'\n    });\n  }\n\n  getDayOfWeek(date) {\n    const dayOfWeek = new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n    return dayOfWeek === 0 ? 7 : dayOfWeek;\n  }\n\n  getCalendar(date) {\n    const firstDay = 1;\n    const lastDay = this.getLastDayOfMonth(date.getFullYear(), date.getMonth());\n    let result = [];\n\n    for (let i = firstDay; i < lastDay + 1; i++) {\n      result.push({\n        day: i,\n        value: Number(new Date(date.getFullYear(), date.getMonth(), i, 12))\n      });\n    }\n\n    return result;\n  }\n\n  creatCalendar(date) {\n    const calendar = this.getCalendar(date);\n    return calendar.map(({\n      day,\n      value\n    }) => `\n         <button type=\"button\" \n           class=\"rangepicker__cell\"\n           data-value=\"${value}\"\n           ${day === 1 ? `style=\"--start-from: ${this.getDayOfWeek(date)}\"` : ''}>${day}</button>\n      `).join('');\n  }\n\n  getLastDayOfMonth(year, month) {\n    const date = new Date(year, month + 1, 0);\n    return date.getDate();\n  }\n\n  getMonth(date, lang = 'ru') {\n    return date.toLocaleString(lang, {\n      month: 'long'\n    });\n  }\n\n  template() {\n    return `\n      <div class=\"rangepicker\">\n         <div class=\"rangepicker__input\" data-element=\"input\">\n            <span data-element=\"from\">${this.getFormatedDate(this.from)}</span> -\n            <span data-element=\"to\">${this.getFormatedDate(this.to)}</span>\n         </div>\n         <div class=\"rangepicker__selector\" data-element=\"selector\"></div>\n      </div>\n    `;\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template();\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(element);\n  }\n\n  getWeekDays() {\n    const weekDays = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];\n    return weekDays.map(day => `<div>${day}</div>`).join('');\n  }\n\n  getCalendarPages(dates) {\n    return dates.map((date, index) => `\n        <div class=\"rangepicker__calendar\">\n           <div class=\"rangepicker__month-indicator\">\n              <time datetime=\"${this.getMonth(date, 'eng')}\" data-element=\"month${index + 1}\">${this.getMonth(date)}</time>\n           </div>\n           <div class=\"rangepicker__day-of-week\">\n              ${this.getWeekDays()}\n           </div>\n           <div class=\"rangepicker__date-grid\" data-element=\"calendar${index + 1}\">\n              ${this.creatCalendar(date)}\n           </div>\n        </div>`).join('');\n  }\n\n  templateCalendarView() {\n    return `\n      <div class=\"rangepicker__selector-arrow\"></div>\n      <div class=\"rangepicker__selector-control-left\"></div>\n      <div class=\"rangepicker__selector-control-right\"></div>\n      ${this.getCalendarPages([this.date1, this.date2])}\n      `;\n  }\n\n  addRangeDays() {\n    if (!this.from && !this.to) return;\n    const calendars = this.element.querySelectorAll('.rangepicker__cell');\n\n    for (const day of calendars) {\n      if (Number(this.from) < Number(day.dataset.value) && Number(day.dataset.value) < Number(this.to)) {\n        day.classList.add('rangepicker__selected-between');\n      }\n\n      if (Number(day.dataset.value) === Number(this.from)) {\n        day.classList.add('rangepicker__selected-from');\n      }\n\n      if (Number(day.dataset.value) === Number(this.to)) {\n        day.classList.add('rangepicker__selected-to');\n      }\n    }\n  }\n\n  renderCalendarView() {\n    this.subElements.selector.innerHTML = this.templateCalendarView();\n    this.subElements = { ...this.subElements,\n      ...this.getSubElements(this.subElements.selector)\n    };\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n    return [...elements].reduce((result, item) => {\n      result[item.dataset.element] = item;\n      return result;\n    }, {});\n  }\n\n  initEventListeners() {\n    this.subElements.selector.addEventListener('click', this.onSelectorClick);\n    this.subElements.input.addEventListener('click', this.onOpenCalendarByClick);\n    document.addEventListener('click', this.onWindowClick, true);\n  }\n\n  dispatchEvent() {\n    this.element.dispatchEvent(new CustomEvent('date-select', {\n      bubbles: true,\n      detail: {\n        from: this.from,\n        to: this.to\n      }\n    }));\n  }\n\n  remove() {\n    this.element.remove();\n    document.removeEventListener('click', this.onWindowClick, true);\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yYW5nZS1waWNrZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yYW5nZS1waWNrZXIvaW5kZXguanM/MGRhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZVBpY2tlciB7XHJcblxyXG4gIGlzRnJvbVNlbGVjdGVkID0gZmFsc2VcclxuXHJcbiAgb25TZWxlY3RvckNsaWNrID0gKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgY29uc3QgbGVmdEFycm93ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5yYW5nZXBpY2tlcl9fc2VsZWN0b3ItY29udHJvbC1sZWZ0Jyk7XHJcbiAgICBjb25zdCByaWdodEFycm93ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5yYW5nZXBpY2tlcl9fc2VsZWN0b3ItY29udHJvbC1yaWdodCcpO1xyXG4gICAgY29uc3QgY2FsZW5kYXJEYXkgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnJhbmdlcGlja2VyX19jZWxsJyk7XHJcblxyXG4gICAgaWYgKGxlZnRBcnJvdyB8fCByaWdodEFycm93KSB7XHJcbiAgICAgIGlmIChsZWZ0QXJyb3cpIHtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRlMSA9IG5ldyBEYXRlKHRoaXMuZGF0ZTEuZ2V0RnVsbFllYXIoKSwgdGhpcy5kYXRlMS5nZXRNb250aCgpIC0gMSwgMSlcclxuICAgICAgICB0aGlzLmRhdGUyID0gbmV3IERhdGUodGhpcy5kYXRlMi5nZXRGdWxsWWVhcigpLCB0aGlzLmRhdGUyLmdldE1vbnRoKCkgLSAxLCAxKVxyXG5cclxuICAgICAgfVxyXG4gICAgICBpZiAocmlnaHRBcnJvdykge1xyXG5cclxuICAgICAgICB0aGlzLmRhdGUxID0gbmV3IERhdGUodGhpcy5kYXRlMS5nZXRGdWxsWWVhcigpLCB0aGlzLmRhdGUxLmdldE1vbnRoKCkgKyAxLCAxKVxyXG4gICAgICAgIHRoaXMuZGF0ZTIgPSBuZXcgRGF0ZSh0aGlzLmRhdGUyLmdldEZ1bGxZZWFyKCksIHRoaXMuZGF0ZTIuZ2V0TW9udGgoKSArIDEsIDEpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3ViRWxlbWVudHMuY2FsZW5kYXIxLmlubmVySFRNTCA9IHRoaXMuY3JlYXRDYWxlbmRhcih0aGlzLmRhdGUxKTtcclxuXHJcbiAgICAgIHRoaXMuc3ViRWxlbWVudHMuY2FsZW5kYXIyLmlubmVySFRNTCA9IHRoaXMuY3JlYXRDYWxlbmRhcih0aGlzLmRhdGUyKVxyXG5cclxuICAgICAgdGhpcy5zdWJFbGVtZW50cy5tb250aDEuaW5uZXJIVE1MID0gdGhpcy5nZXRNb250aCh0aGlzLmRhdGUxKVxyXG4gICAgICB0aGlzLnN1YkVsZW1lbnRzLm1vbnRoMi5pbm5lckhUTUwgPSB0aGlzLmdldE1vbnRoKHRoaXMuZGF0ZTIpXHJcblxyXG4gICAgICB0aGlzLnN1YkVsZW1lbnRzLm1vbnRoMS5zZXRBdHRyaWJ1dGUoJ2RhdGV0aW1lJywgdGhpcy5nZXRNb250aCh0aGlzLmRhdGUxLCAnZW5nJykpXHJcbiAgICAgIHRoaXMuc3ViRWxlbWVudHMubW9udGgyLnNldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnLCB0aGlzLmdldE1vbnRoKHRoaXMuZGF0ZTIsICdlbmcnKSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2FsZW5kYXJEYXkpIHtcclxuXHJcbiAgICAgIGlmICh0aGlzLmlzRnJvbVNlbGVjdGVkKSB7XHJcblxyXG4gICAgICAgIGlmIChOdW1iZXIoY2FsZW5kYXJEYXkuZGF0YXNldC52YWx1ZSkgPCBOdW1iZXIodGhpcy5mcm9tKSkge1xyXG5cclxuICAgICAgICAgIHRoaXMudG8gPSB0aGlzLmZyb21cclxuICAgICAgICAgIHRoaXMuZnJvbSA9IG5ldyBEYXRlKE51bWJlcihjYWxlbmRhckRheS5kYXRhc2V0LnZhbHVlKSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICB0aGlzLnRvID0gbmV3IERhdGUoTnVtYmVyKGNhbGVuZGFyRGF5LmRhdGFzZXQudmFsdWUpKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2FsZW5kYXJzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5nZXBpY2tlcl9fY2VsbCcpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGRheSBvZiBjYWxlbmRhcnMpIHtcclxuXHJcbiAgICAgICAgICBkYXkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLXRvJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ViRWxlbWVudHMuZnJvbS5pbm5lckhUTUwgPSB0aGlzLmdldEZvcm1hdGVkRGF0ZSh0aGlzLmZyb20pXHJcblxyXG4gICAgICAgIHRoaXMuc3ViRWxlbWVudHMudG8uaW5uZXJIVE1MID0gdGhpcy5nZXRGb3JtYXRlZERhdGUodGhpcy50bylcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlcGlja2VyX29wZW4nKVxyXG5cclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoKVxyXG5cclxuICAgICAgICB0aGlzLmlzRnJvbVNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBjb25zdCBjYWxlbmRhcnMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlcGlja2VyX19jZWxsJyk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZGF5IG9mIGNhbGVuZGFycykge1xyXG4gICAgICAgICAgZGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlcGlja2VyX19zZWxlY3RlZC1mcm9tJylcclxuICAgICAgICAgIGRheS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZXBpY2tlcl9fc2VsZWN0ZWQtdG8nKVxyXG4gICAgICAgICAgZGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlcGlja2VyX19zZWxlY3RlZC1iZXR3ZWVuJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZnJvbSA9IG5ldyBEYXRlKE51bWJlcihjYWxlbmRhckRheS5kYXRhc2V0LnZhbHVlKSlcclxuICAgICAgICB0aGlzLnRvID0gbmV3IERhdGUoTnVtYmVyKGNhbGVuZGFyRGF5LmRhdGFzZXQudmFsdWUpKVxyXG5cclxuICAgICAgICB0aGlzLmlzRnJvbVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5hZGRSYW5nZURheXMoKVxyXG4gIH1cclxuXHJcbiAgb25PcGVuQ2FsZW5kYXJCeUNsaWNrID0gKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5yYW5nZXBpY2tlcicpO1xyXG5cclxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXJWaWV3KClcclxuICAgIHRoaXMuYWRkUmFuZ2VEYXlzKCk7XHJcblxyXG4gICAgdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ3JhbmdlcGlja2VyX29wZW4nKVxyXG4gIH1cclxuXHJcbiAgb25XaW5kb3dDbGljayA9IChldmVudCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucmFuZ2VwaWNrZXInKTtcclxuXHJcbiAgICBpZiAoIXRhcmdldCkge1xyXG5cclxuICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3JhbmdlcGlja2VyX29wZW4nKSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZXBpY2tlcl9vcGVuJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoeyBmcm9tLCB0byB9ID0ge30pIHtcclxuXHJcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xyXG4gICAgdGhpcy50byA9IHRvO1xyXG5cclxuICAgIHRoaXMuZGF0ZTEgPSBmcm9tID8gZnJvbSA6IG5ldyBEYXRlKCk7XHJcbiAgICB0aGlzLmRhdGUyID0gbmV3IERhdGUodGhpcy5kYXRlMS5nZXRGdWxsWWVhcigpLCB0aGlzLmRhdGUxLmdldE1vbnRoKCkgKyAxLCAxKTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcigpXHJcbiAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG5cclxuICBnZXRGb3JtYXRlZERhdGUoZGF0ZSkge1xyXG4gICAgaWYgKCFkYXRlKVxyXG4gICAgICByZXR1cm4gJ9C00LQt0LzQvC3Qs9Cz0LPQsydcclxuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdydScsIHsgZGF0ZVN0eWxlOiAnc2hvcnQnIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0TW9udGgoZGF0ZSkge1xyXG5cclxuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdydScsIHsgbW9udGg6ICdsb25nJyB9KTtcclxuICB9XHJcblxyXG4gIGdldERheU9mV2VlayhkYXRlKSB7XHJcblxyXG4gICAgY29uc3QgZGF5T2ZXZWVrID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLmdldERheSgpXHJcblxyXG4gICAgcmV0dXJuIGRheU9mV2VlayA9PT0gMCA/IDcgOiBkYXlPZldlZWs7XHJcbiAgfVxyXG5cclxuICBnZXRDYWxlbmRhcihkYXRlKSB7XHJcblxyXG4gICAgY29uc3QgZmlyc3REYXkgPSAxO1xyXG4gICAgY29uc3QgbGFzdERheSA9IHRoaXMuZ2V0TGFzdERheU9mTW9udGgoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpXHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSBmaXJzdERheTsgaSA8IGxhc3REYXkgKyAxOyBpKyspIHtcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIGRheTogaSxcclxuICAgICAgICB2YWx1ZTogTnVtYmVyKG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBpLCAxMikpLFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGNyZWF0Q2FsZW5kYXIoZGF0ZSkge1xyXG5cclxuICAgIGNvbnN0IGNhbGVuZGFyID0gdGhpcy5nZXRDYWxlbmRhcihkYXRlKTtcclxuXHJcbiAgICByZXR1cm4gY2FsZW5kYXIubWFwKCh7IGRheSwgdmFsdWUgfSkgPT4gYFxyXG4gICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBcclxuICAgICAgICAgICBjbGFzcz1cInJhbmdlcGlja2VyX19jZWxsXCJcclxuICAgICAgICAgICBkYXRhLXZhbHVlPVwiJHt2YWx1ZX1cIlxyXG4gICAgICAgICAgICR7ZGF5ID09PSAxID8gYHN0eWxlPVwiLS1zdGFydC1mcm9tOiAke3RoaXMuZ2V0RGF5T2ZXZWVrKGRhdGUpfVwiYCA6ICcnfT4ke2RheX08L2J1dHRvbj5cclxuICAgICAgYFxyXG4gICAgKS5qb2luKCcnKVxyXG4gIH1cclxuXHJcbiAgZ2V0TGFzdERheU9mTW9udGgoeWVhciwgbW9udGgpIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApO1xyXG4gICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0TW9udGgoZGF0ZSwgbGFuZyA9ICdydScpIHtcclxuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxhbmcsIHtcclxuICAgICAgbW9udGg6ICdsb25nJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdGVtcGxhdGUoKSB7XHJcblxyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cInJhbmdlcGlja2VyXCI+XHJcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJyYW5nZXBpY2tlcl9faW5wdXRcIiBkYXRhLWVsZW1lbnQ9XCJpbnB1dFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBkYXRhLWVsZW1lbnQ9XCJmcm9tXCI+JHt0aGlzLmdldEZvcm1hdGVkRGF0ZSh0aGlzLmZyb20pfTwvc3Bhbj4gLVxyXG4gICAgICAgICAgICA8c3BhbiBkYXRhLWVsZW1lbnQ9XCJ0b1wiPiR7dGhpcy5nZXRGb3JtYXRlZERhdGUodGhpcy50byl9PC9zcGFuPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlcGlja2VyX19zZWxlY3RvclwiIGRhdGEtZWxlbWVudD1cInNlbGVjdG9yXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGUoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkXHJcblxyXG4gICAgdGhpcy5zdWJFbGVtZW50cyA9IHRoaXMuZ2V0U3ViRWxlbWVudHMoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBnZXRXZWVrRGF5cygpIHtcclxuXHJcbiAgICBjb25zdCB3ZWVrRGF5cyA9IFsn0J/QvScsICfQktGCJywgJ9Ch0YAnLCAn0KfRgicsICfQn9GCJywgJ9Ch0LEnLCAn0JLRgSddO1xyXG5cclxuICAgIHJldHVybiB3ZWVrRGF5cy5tYXAoKGRheSkgPT5cclxuICAgICAgYDxkaXY+JHtkYXl9PC9kaXY+YFxyXG4gICAgKS5qb2luKCcnKVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2FsZW5kYXJQYWdlcyhkYXRlcykge1xyXG5cclxuICAgIHJldHVybiBkYXRlcy5tYXAoKGRhdGUsIGluZGV4KSA9PlxyXG4gICAgICBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlcGlja2VyX19jYWxlbmRhclwiPlxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYW5nZXBpY2tlcl9fbW9udGgtaW5kaWNhdG9yXCI+XHJcbiAgICAgICAgICAgICAgPHRpbWUgZGF0ZXRpbWU9XCIke3RoaXMuZ2V0TW9udGgoZGF0ZSwgJ2VuZycpfVwiIGRhdGEtZWxlbWVudD1cIm1vbnRoJHtpbmRleCArIDF9XCI+JHt0aGlzLmdldE1vbnRoKGRhdGUpfTwvdGltZT5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFuZ2VwaWNrZXJfX2RheS1vZi13ZWVrXCI+XHJcbiAgICAgICAgICAgICAgJHt0aGlzLmdldFdlZWtEYXlzKCl9XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlcGlja2VyX19kYXRlLWdyaWRcIiBkYXRhLWVsZW1lbnQ9XCJjYWxlbmRhciR7aW5kZXggKyAxfVwiPlxyXG4gICAgICAgICAgICAgICR7dGhpcy5jcmVhdENhbGVuZGFyKGRhdGUpfVxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgICkuam9pbignJylcclxuICB9XHJcblxyXG4gIHRlbXBsYXRlQ2FsZW5kYXJWaWV3KCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cInJhbmdlcGlja2VyX19zZWxlY3Rvci1hcnJvd1wiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicmFuZ2VwaWNrZXJfX3NlbGVjdG9yLWNvbnRyb2wtbGVmdFwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicmFuZ2VwaWNrZXJfX3NlbGVjdG9yLWNvbnRyb2wtcmlnaHRcIj48L2Rpdj5cclxuICAgICAgJHt0aGlzLmdldENhbGVuZGFyUGFnZXMoW3RoaXMuZGF0ZTEsIHRoaXMuZGF0ZTJdKX1cclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgYWRkUmFuZ2VEYXlzKCkge1xyXG5cclxuICAgIGlmICghdGhpcy5mcm9tICYmICF0aGlzLnRvKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBjYWxlbmRhcnMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlcGlja2VyX19jZWxsJyk7XHJcblxyXG4gICAgZm9yIChjb25zdCBkYXkgb2YgY2FsZW5kYXJzKSB7XHJcblxyXG4gICAgICBpZiAoTnVtYmVyKHRoaXMuZnJvbSkgPCBOdW1iZXIoZGF5LmRhdGFzZXQudmFsdWUpICYmXHJcbiAgICAgICAgTnVtYmVyKGRheS5kYXRhc2V0LnZhbHVlKSA8IE51bWJlcih0aGlzLnRvKSkge1xyXG5cclxuICAgICAgICBkYXkuY2xhc3NMaXN0LmFkZCgncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLWJldHdlZW4nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoTnVtYmVyKGRheS5kYXRhc2V0LnZhbHVlKSA9PT0gTnVtYmVyKHRoaXMuZnJvbSkpIHtcclxuICAgICAgICBkYXkuY2xhc3NMaXN0LmFkZCgncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLWZyb20nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoTnVtYmVyKGRheS5kYXRhc2V0LnZhbHVlKSA9PT0gTnVtYmVyKHRoaXMudG8pKSB7XHJcbiAgICAgICAgZGF5LmNsYXNzTGlzdC5hZGQoJ3JhbmdlcGlja2VyX19zZWxlY3RlZC10bycpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlckNhbGVuZGFyVmlldygpIHtcclxuXHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzLnNlbGVjdG9yLmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGVDYWxlbmRhclZpZXcoKTtcclxuXHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzID0ge1xyXG4gICAgICAuLi50aGlzLnN1YkVsZW1lbnRzLFxyXG4gICAgICAuLi50aGlzLmdldFN1YkVsZW1lbnRzKHRoaXMuc3ViRWxlbWVudHMuc2VsZWN0b3IpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTdWJFbGVtZW50cyhlbGVtZW50KSB7XHJcblxyXG4gICAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVsZW1lbnRdJyk7XHJcblxyXG4gICAgcmV0dXJuIFsuLi5lbGVtZW50c10ucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcclxuICAgICAgcmVzdWx0W2l0ZW0uZGF0YXNldC5lbGVtZW50XSA9IGl0ZW07XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LCB7fSlcclxuICB9XHJcblxyXG4gIGluaXRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzLnNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblNlbGVjdG9yQ2xpY2spXHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbk9wZW5DYWxlbmRhckJ5Q2xpY2spXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25XaW5kb3dDbGljaywgdHJ1ZSlcclxuICB9XHJcblxyXG4gIGRpc3BhdGNoRXZlbnQoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RhdGUtc2VsZWN0Jywge1xyXG4gICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICBkZXRhaWw6IHtcclxuICAgICAgICBmcm9tOiB0aGlzLmZyb20sXHJcbiAgICAgICAgdG86IHRoaXMudG9cclxuICAgICAgfSxcclxuICAgIH0pKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbldpbmRvd0NsaWNrLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUEwR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF1QkE7QUFwQkE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBYUE7QUFWQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBOzs7QUFHQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7Ozs7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOzs7QUFJQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFWQTtBQWNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBRkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsVEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/range-picker/index.js\n");

/***/ }),

/***/ "./src/pages/dashboard/bestsellers-header.js":
/*!***************************************************!*\
  !*** ./src/pages/dashboard/bestsellers-header.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst header = [{\n  id: 'images',\n  title: 'Фото',\n  sortable: false,\n  template: data => {\n    return `\n          <div class=\"sortable-table__cell\">\n          ${data[0] && data[0].url ? `<img class=\"sortable-table-image\" alt=\"Image\" \n            src=${data[0].url} >` : ''}\n          </div>\n        `;\n  }\n}, {\n  id: 'title',\n  title: 'Название',\n  sortable: true,\n  sortType: 'string'\n}, {\n  id: 'subcategory',\n  title: 'Категория',\n  sortable: false,\n  template: data => {\n    return `\n      <div class=\"sortable-table__cell\">\n      <span data-tooltip='\n           <div class=\"sortable-table-tooltip\">\n          <span class=\"sortable-table-tooltip__category\">${data.category.title}</span> /\n          <b class=\"sortable-table-tooltip__subcategory\">${data.title}</b>\n        </div>'>${data.title}</span> \n      </div>`;\n  }\n}, {\n  id: 'quantity',\n  title: 'Количество',\n  sortable: true,\n  sortType: 'number'\n}, {\n  id: 'price',\n  title: 'Цена',\n  sortable: true,\n  sortType: 'number'\n}, {\n  id: 'sales',\n  title: 'Продажи',\n  sortable: true,\n  sortType: 'number'\n}];\n/* harmony default export */ __webpack_exports__[\"default\"] = (header);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkL2Jlc3RzZWxsZXJzLWhlYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlcy9kYXNoYm9hcmQvYmVzdHNlbGxlcnMtaGVhZGVyLmpzP2FkZWEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaGVhZGVyID0gW1xyXG4gIHtcclxuICAgIGlkOiAnaW1hZ2VzJyxcclxuICAgIHRpdGxlOiAn0KTQvtGC0L4nLFxyXG4gICAgc29ydGFibGU6IGZhbHNlLFxyXG4gICAgdGVtcGxhdGU6IGRhdGEgPT4ge1xyXG4gICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRhYmxlLXRhYmxlX19jZWxsXCI+XHJcbiAgICAgICAgICAkeyhkYXRhWzBdICYmIGRhdGFbMF0udXJsKSA/IGA8aW1nIGNsYXNzPVwic29ydGFibGUtdGFibGUtaW1hZ2VcIiBhbHQ9XCJJbWFnZVwiIFxyXG4gICAgICAgICAgICBzcmM9JHtkYXRhWzBdLnVybH0gPmAgOiAnJ31cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ3RpdGxlJyxcclxuICAgIHRpdGxlOiAn0J3QsNC30LLQsNC90LjQtScsXHJcbiAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgIHNvcnRUeXBlOiAnc3RyaW5nJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdzdWJjYXRlZ29yeScsXHJcbiAgICB0aXRsZTogJ9Ca0LDRgtC10LPQvtGA0LjRjycsXHJcbiAgICBzb3J0YWJsZTogZmFsc2UsXHJcbiAgICB0ZW1wbGF0ZTogZGF0YSA9PiB7XHJcbiAgICAgIHJldHVybiBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzb3J0YWJsZS10YWJsZV9fY2VsbFwiPlxyXG4gICAgICA8c3BhbiBkYXRhLXRvb2x0aXA9J1xyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0YWJsZS10YWJsZS10b29sdGlwXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRhYmxlLXRhYmxlLXRvb2x0aXBfX2NhdGVnb3J5XCI+JHtkYXRhLmNhdGVnb3J5LnRpdGxlfTwvc3Bhbj4gL1xyXG4gICAgICAgICAgPGIgY2xhc3M9XCJzb3J0YWJsZS10YWJsZS10b29sdGlwX19zdWJjYXRlZ29yeVwiPiR7ZGF0YS50aXRsZX08L2I+XHJcbiAgICAgICAgPC9kaXY+Jz4ke2RhdGEudGl0bGV9PC9zcGFuPiBcclxuICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAncXVhbnRpdHknLFxyXG4gICAgdGl0bGU6ICfQmtC+0LvQuNGH0LXRgdGC0LLQvicsXHJcbiAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgIHNvcnRUeXBlOiAnbnVtYmVyJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdwcmljZScsXHJcbiAgICB0aXRsZTogJ9Cm0LXQvdCwJyxcclxuICAgIHNvcnRhYmxlOiB0cnVlLFxyXG4gICAgc29ydFR5cGU6ICdudW1iZXInXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ3NhbGVzJyxcclxuICAgIHRpdGxlOiAn0J/RgNC+0LTQsNC20LgnLFxyXG4gICAgc29ydGFibGU6IHRydWUsXHJcbiAgICBzb3J0VHlwZTogJ251bWJlcicsXHJcblxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBoZWFkZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFIQTtBQU1BO0FBWEE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFiQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFTQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/dashboard/bestsellers-header.js\n");

/***/ }),

/***/ "./src/pages/dashboard/index.js":
/*!**************************************!*\
  !*** ./src/pages/dashboard/index.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Page; });\n/* harmony import */ var _components_range_picker_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/range-picker/index.js */ \"./src/components/range-picker/index.js\");\n/* harmony import */ var _components_sortable_table_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/sortable-table/index.js */ \"./src/components/sortable-table/index.js\");\n/* harmony import */ var _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/column-chart/index.js */ \"./src/components/column-chart/index.js\");\n/* harmony import */ var _bestsellers_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bestsellers-header.js */ \"./src/pages/dashboard/bestsellers-header.js\");\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nconst BACKEND_URL = `${\"https://course-js.javascript.ru/\"}`;\nclass Page {\n  constructor() {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"subElements\", {});\n\n    _defineProperty(this, \"components\", {});\n  }\n\n  initComponents() {\n    const now = new Date();\n    const from = new Date(now.getFullYear(), now.getMonth() - 1, now.getDate());\n    const to = now;\n    const rangePicker = new _components_range_picker_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      from,\n      to\n    });\n    const ordersChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      url: 'api/dashboard/orders',\n      range: {\n        from: from,\n        to: to\n      },\n      label: 'Заказы',\n      link: '#'\n    });\n\n    function formatData(data) {\n      const i = data / 1000;\n      const re = /(?=\\B(?:\\d{3})+(?!\\d))/g;\n      const j = i.toString().replace(re, ' ').replace('.', ',');\n      return j;\n    }\n\n    const salesChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      url: 'api/dashboard/sales',\n      range: {\n        from: from,\n        to: to\n      },\n      label: 'Продажи',\n      formatHeading: data => `$${formatData(data)}`\n    });\n    const customersChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      url: 'api/dashboard/customers',\n      range: {\n        from: from,\n        to: to\n      },\n      label: 'Клиенты'\n    });\n    const sortableTable = new _components_sortable_table_index_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_bestsellers_header_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      url: `api/dashboard/bestsellers?_start=1&_end=20&from=${from.toISOString()}&to=${to.toISOString()}`,\n      isSortLocally: true\n    });\n    sortableTable.render();\n    this.components = {\n      rangePicker,\n      ordersChart,\n      salesChart,\n      customersChart,\n      sortableTable\n    };\n    this.renderComponents();\n    this.initEventListeners();\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template();\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(element);\n    this.initComponents();\n    return this.element;\n  }\n\n  renderComponents() {\n    for (const [component, {\n      element\n    }] of Object.entries(this.components)) {\n      this.subElements[component].append(element);\n    }\n  }\n\n  template() {\n    return `\n       <div class=\"dashboard\">\n         <div class=\"content__top-panel\">\n           <h2 class=\"page-title\">Панель управления</h2>\n           <div data-element=\"rangePicker\"></div>\n         </div>\n      <div data-element=\"chartsRoot\" class=\"dashboard__charts\">\n       <div data-element=\"ordersChart\" class=\"dashboard__chart_orders\"></div>\n        <div data-element=\"salesChart\" class=\"dashboard__chart_sales\"></div>\n        <div data-element=\"customersChart\" class=\"dashboard__chart_customers\"></div>\n      </div>\n      <h3 class=\"block-title\">Лидеры продаж</h3>\n      <div data-element=\"sortableTable\">\n      </div>\n    </div>\n       `;\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n    return [...elements].reduce((result, item) => {\n      result[item.dataset.element] = item;\n      return result;\n    }, {});\n  }\n\n  async updateComponents({\n    from,\n    to\n  }) {\n    const data = await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(`${BACKEND_URL}api/dashboard/bestsellers?_start=0&_end=30&from=${from.toISOString()}&to=${to.toISOString()}&_sort=title&_order=asc`);\n    this.components.sortableTable.updata(data);\n    this.components.ordersChart.update({\n      from,\n      to\n    });\n    this.components.salesChart.update({\n      from,\n      to\n    });\n    this.components.customersChart.update({\n      from,\n      to\n    });\n  }\n\n  initEventListeners() {\n    this.components.rangePicker.element.addEventListener('date-select', event => {\n      const {\n        from,\n        to\n      } = event.detail;\n      this.updateComponents({\n        from,\n        to\n      });\n    });\n  }\n\n  remove() {\n    this.element.remove();\n  }\n\n  destroy() {\n    this.remove();\n\n    for (const component of Object.values(this.components)) {\n      component.destroy();\n    }\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2Rhc2hib2FyZC9pbmRleC5qcz9lM2IzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSYW5nZVBpY2tlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JhbmdlLXBpY2tlci9pbmRleC5qcyc7XHJcbmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc29ydGFibGUtdGFibGUvaW5kZXguanMnO1xyXG5pbXBvcnQgQ29sdW1uQ2hhcnQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanMnO1xyXG5pbXBvcnQgaGVhZGVyIGZyb20gJy4vYmVzdHNlbGxlcnMtaGVhZGVyLmpzJztcclxuXHJcbmltcG9ydCBmZXRjaEpzb24gZnJvbSAnLi4vLi4vdXRpbHMvZmV0Y2gtanNvbi5qcyc7XHJcblxyXG5jb25zdCBCQUNLRU5EX1VSTCA9IGAke3Byb2Nlc3MuZW52LkJBQ0tFTkRfVVJMfWBcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xyXG5cclxuICBlbGVtZW50O1xyXG4gIHN1YkVsZW1lbnRzID0ge307XHJcbiAgY29tcG9uZW50cyA9IHt9O1xyXG5cclxuICBpbml0Q29tcG9uZW50cygpIHtcclxuXHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgIGNvbnN0IGZyb20gPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCkgLSAxLCBub3cuZ2V0RGF0ZSgpKVxyXG4gICAgY29uc3QgdG8gPSBub3dcclxuXHJcbiAgICBjb25zdCByYW5nZVBpY2tlciA9IG5ldyBSYW5nZVBpY2tlcih7XHJcbiAgICAgIGZyb20sXHJcbiAgICAgIHRvXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBvcmRlcnNDaGFydCA9IG5ldyBDb2x1bW5DaGFydCh7XHJcbiAgICAgIHVybDogJ2FwaS9kYXNoYm9hcmQvb3JkZXJzJyxcclxuICAgICAgcmFuZ2U6IHtcclxuICAgICAgICBmcm9tOiBmcm9tLFxyXG4gICAgICAgIHRvOiB0byxcclxuICAgICAgfSxcclxuICAgICAgbGFiZWw6ICfQl9Cw0LrQsNC30YsnLFxyXG4gICAgICBsaW5rOiAnIydcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZvcm1hdERhdGEoZGF0YSkge1xyXG5cclxuICAgICAgY29uc3QgaSA9IGRhdGEgLyAxMDAwO1xyXG4gICAgICBjb25zdCByZSA9IC8oPz1cXEIoPzpcXGR7M30pKyg/IVxcZCkpL2c7XHJcbiAgICAgIGNvbnN0IGogPSBpLnRvU3RyaW5nKCkucmVwbGFjZShyZSwgJyAnKS5yZXBsYWNlKCcuJywgJywnKTtcclxuICAgICAgcmV0dXJuIGpcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYWxlc0NoYXJ0ID0gbmV3IENvbHVtbkNoYXJ0KHtcclxuICAgICAgdXJsOiAnYXBpL2Rhc2hib2FyZC9zYWxlcycsXHJcbiAgICAgIHJhbmdlOiB7XHJcbiAgICAgICAgZnJvbTogZnJvbSxcclxuICAgICAgICB0bzogdG8sXHJcbiAgICAgIH0sXHJcbiAgICAgIGxhYmVsOiAn0J/RgNC+0LTQsNC20LgnLFxyXG4gICAgICBmb3JtYXRIZWFkaW5nOiBkYXRhID0+IGAkJHtmb3JtYXREYXRhKGRhdGEpfWBcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGN1c3RvbWVyc0NoYXJ0ID0gbmV3IENvbHVtbkNoYXJ0KHtcclxuICAgICAgdXJsOiAnYXBpL2Rhc2hib2FyZC9jdXN0b21lcnMnLFxyXG4gICAgICByYW5nZToge1xyXG4gICAgICAgIGZyb206IGZyb20sXHJcbiAgICAgICAgdG86IHRvLFxyXG4gICAgICB9LFxyXG4gICAgICBsYWJlbDogJ9Ca0LvQuNC10L3RgtGLJyxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNvcnRhYmxlVGFibGUgPSBuZXcgU29ydGFibGVUYWJsZShoZWFkZXIsIHtcclxuICAgICAgdXJsOiBgYXBpL2Rhc2hib2FyZC9iZXN0c2VsbGVycz9fc3RhcnQ9MSZfZW5kPTIwJmZyb209JHtmcm9tLnRvSVNPU3RyaW5nKCl9JnRvPSR7dG8udG9JU09TdHJpbmcoKX1gLFxyXG4gICAgICBpc1NvcnRMb2NhbGx5OiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICBzb3J0YWJsZVRhYmxlLnJlbmRlcigpO1xyXG5cclxuICAgIHRoaXMuY29tcG9uZW50cyA9IHtcclxuICAgICAgcmFuZ2VQaWNrZXIsXHJcbiAgICAgIG9yZGVyc0NoYXJ0LFxyXG4gICAgICBzYWxlc0NoYXJ0LFxyXG4gICAgICBjdXN0b21lcnNDaGFydCxcclxuICAgICAgc29ydGFibGVUYWJsZVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVuZGVyQ29tcG9uZW50cygpXHJcbiAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcblxyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy50ZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcblxyXG4gICAgdGhpcy5zdWJFbGVtZW50cyA9IHRoaXMuZ2V0U3ViRWxlbWVudHMoZWxlbWVudCk7XHJcblxyXG4gICAgdGhpcy5pbml0Q29tcG9uZW50cygpXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ29tcG9uZW50cygpIHtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtjb21wb25lbnQsIHsgZWxlbWVudCB9XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvbXBvbmVudHMpKSB7XHJcblxyXG4gICAgICB0aGlzLnN1YkVsZW1lbnRzW2NvbXBvbmVudF0uYXBwZW5kKGVsZW1lbnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0ZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBgXHJcbiAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkXCI+XHJcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50X190b3AtcGFuZWxcIj5cclxuICAgICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXRpdGxlXCI+0J/QsNC90LXQu9GMINGD0L/RgNCw0LLQu9C10L3QuNGPPC9oMj5cclxuICAgICAgICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cInJhbmdlUGlja2VyXCI+PC9kaXY+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cImNoYXJ0c1Jvb3RcIiBjbGFzcz1cImRhc2hib2FyZF9fY2hhcnRzXCI+XHJcbiAgICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cIm9yZGVyc0NoYXJ0XCIgY2xhc3M9XCJkYXNoYm9hcmRfX2NoYXJ0X29yZGVyc1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwic2FsZXNDaGFydFwiIGNsYXNzPVwiZGFzaGJvYXJkX19jaGFydF9zYWxlc1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwiY3VzdG9tZXJzQ2hhcnRcIiBjbGFzcz1cImRhc2hib2FyZF9fY2hhcnRfY3VzdG9tZXJzXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8aDMgY2xhc3M9XCJibG9jay10aXRsZVwiPtCb0LjQtNC10YDRiyDQv9GA0L7QtNCw0LY8L2gzPlxyXG4gICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cInNvcnRhYmxlVGFibGVcIj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgICAgIGBcclxuICB9XHJcblxyXG4gIGdldFN1YkVsZW1lbnRzKGVsZW1lbnQpIHtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWxlbWVudF0nKTtcclxuXHJcbiAgICByZXR1cm4gWy4uLmVsZW1lbnRzXS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xyXG5cclxuICAgICAgcmVzdWx0W2l0ZW0uZGF0YXNldC5lbGVtZW50XSA9IGl0ZW07XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgfSwge30pXHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVDb21wb25lbnRzKHsgZnJvbSwgdG8gfSkge1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEpzb24oYCR7QkFDS0VORF9VUkx9YXBpL2Rhc2hib2FyZC9iZXN0c2VsbGVycz9fc3RhcnQ9MCZfZW5kPTMwJmZyb209JHtmcm9tLnRvSVNPU3RyaW5nKCl9JnRvPSR7dG8udG9JU09TdHJpbmcoKX0mX3NvcnQ9dGl0bGUmX29yZGVyPWFzY2ApO1xyXG5cclxuICAgIHRoaXMuY29tcG9uZW50cy5zb3J0YWJsZVRhYmxlLnVwZGF0YShkYXRhKTtcclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudHMub3JkZXJzQ2hhcnQudXBkYXRlKHsgZnJvbSwgdG8gfSlcclxuICAgIHRoaXMuY29tcG9uZW50cy5zYWxlc0NoYXJ0LnVwZGF0ZSh7IGZyb20sIHRvIH0pXHJcbiAgICB0aGlzLmNvbXBvbmVudHMuY3VzdG9tZXJzQ2hhcnQudXBkYXRlKHsgZnJvbSwgdG8gfSlcclxuICB9XHJcblxyXG4gIGluaXRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudHMucmFuZ2VQaWNrZXIuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkYXRlLXNlbGVjdCcsIGV2ZW50ID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IGV2ZW50LmRldGFpbDtcclxuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKHsgZnJvbSwgdG8gfSlcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIHJlbW92ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIE9iamVjdC52YWx1ZXModGhpcy5jb21wb25lbnRzKSkge1xyXG4gICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQWdCQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/dashboard/index.js\n");

/***/ })

}]);